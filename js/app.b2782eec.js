(function(e){function t(t){for(var n,s,r=t[0],u=t[1],l=t[2],c=0,m=[];c<r.length;c++)s=r[c],i[s]&&m.push(i[s][0]),i[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);d&&d(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,s=1;s<a.length;s++){var u=a[s];0!==i[u]&&(n=!1)}n&&(o.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},i={app:0},o=[];function s(e){return r.p+"js/"+({}[e]||e)+"."+{8628:"d1e68433","5e0b":"70cdfbec","6a51":"ebf2e4cf","753a":"f8b90358","81d0":"5c79f0f7","869f9":"1d84e665","93bb":"45fcc626","969e":"85213ec8",c669:"62109047","chunk-4d5f":"0d89dafb",e2ad:"13c0005d",fc1f:"bb3ea2bc"}[e]+".js"}function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(e){var t=[],a=i[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise(function(t,n){a=i[e]=[t,n]});t.push(a[2]=n);var o,u=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=s(e),o=function(t){l.onerror=l.onload=null,clearTimeout(c);var a=i[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+n+": "+o+")");s.type=n,s.request=o,a[1](s)}i[e]=void 0}};var c=setTimeout(function(){o({type:"timeout",target:l})},12e4);l.onerror=l.onload=o,u.appendChild(l)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/ecotopia-today/",r.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("04f5"),i=a.n(n);i.a},"04f5":function(e,t,a){},"11f1":function(e,t,a){},2352:function(e,t,a){"use strict";var n=a("c1a1"),i=a.n(n);i.a},4382:function(e,t,a){"use strict";var n=a("b330"),i=a.n(n);i.a},5190:function(e,t,a){"use strict";var n=a("f928"),i=a.n(n);i.a},5547:function(e,t,a){"use strict";var n=a("11f1"),i=a.n(n);i.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("b059"),a("619b"),a("6e25"),a("a347");var n=a("2b0e"),i=a("283e"),o=a.n(i),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("main",[a("nav",[a("router-link",{class:{active:e.$route.name&&e.$route.name.match("megaregion")},attrs:{to:"/megaregion/introduction"}},[e._v("Megaregion")]),a("router-link",{class:{active:e.$route.name&&e.$route.name.match("watershed")},attrs:{to:"/watershed/introduction"}},[e._v("Watershed")]),a("router-link",{class:{active:e.$route.name&&e.$route.name.match("bioregion")},attrs:{to:"/bioregion/introduction"}},[e._v("Bioregion")]),a("div",{attrs:{id:"aside-scroll-to",title:"Skip To Content"},on:{click:e.scrollToAside}},[a("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_down")])])],1),a("router-view",{attrs:{name:"map",id:"map"}})],1),a("AppNav"),a("aside",{class:{"no-flex":this.asideHidden}},[a("div",{attrs:{id:"aside-wraper"}},[a("div",{attrs:{id:"aside-toggle",title:"Toggle Content"},on:{click:e.toggleAside}},[e.asideHidden?a("i",{staticClass:"material-icons"},[e._v("menu")]):a("i",{staticClass:"material-icons"},[e._v("close")])]),a("h1",{class:{hidden:this.asideHidden},attrs:{id:"aside-heading"}},[e._v("Learning From Cascadia")])]),a("div",{ref:"asideContent",class:{hidden:this.asideHidden},attrs:{id:"content"}},[a("router-view")],1)])],1)},r=[],u=a("c93e"),l=a("2f62"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.asideHidden?e._e():a("div",[e.nav.items?a("div",{attrs:{id:"items"}},e._l(e.nav.items,function(t){return a("router-link",{key:t.name,staticClass:"btn",attrs:{to:t.href}},[e._v(e._s(t.name))])})):e._e(),e.navSubItems?a("div",{attrs:{id:"subItems"}},e._l(e.navSubItems,function(t){return a("router-link",{key:t.name,staticClass:"btn subItem",attrs:{to:t.href}},[e._v(e._s(t.name))])})):e._e()])},d=[],m=(a("7f7f"),{name:"AppNav",data:function(){return{nav:[],navSubItems:[],watershed:{items:[{name:"Introduction",href:"/watershed/introduction"},{name:"Terminals",href:"/watershed/terminals"},{name:"Dams",href:"/watershed/dams"},{name:"Hanford",href:"/watershed/hanford"}]},megaregion:{items:[{name:"Introduction",href:"/megaregion/introduction"},{name:"Energy",href:"/megaregion/energy"},{name:"Crops",href:"/megaregion/crops"},{name:"Grand Coulee",href:"/megaregion/grandcoulee"},{name:"Basin Project",href:"/megaregion/basinproject"}]},subItems:{hanford:[{name:"Legacy",href:"/watershed/hanford/legacy"},{name:"Plumes",href:"/watershed/hanford/plumes"},{name:"Floods",href:"/watershed/hanford/floods"}]}}},computed:Object(u["a"])({},Object(l["b"])(["asideHidden"])),watch:{$route:function(e,t){this.initNav()}},mounted:function(){this.initNav()},methods:{initNav:function(){/watershed/.test(this.$route.name)?this.nav=this.watershed:/megaregion/.test(this.$route.name)?this.nav=this.megaregion:this.nav=[],/watershedHanford/.test(this.$route.name)?this.navSubItems=this.subItems.hanford:this.navSubItems=[]}}}),p=m,h=(a("4382"),a("2877")),g=Object(h["a"])(p,c,d,!1,null,"783fe9cb",null),f=g.exports,v={name:"App",components:{AppNav:f},watch:{$route:function(e,t){document.querySelector("aside > #content").scrollTop=0}},computed:Object(u["a"])({},Object(l["b"])(["asideHidden"])),methods:{toggleAside:function(){this.$store.dispatch("toggle")},scrollToAside:function(){this.$refs.asideContent.scrollIntoView()}}},b=v,w=(a("034f"),Object(h["a"])(b,s,r,!1,null,null,null)),y=w.exports,P=a("8c4f"),j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"aside-content"},[a("h1",[e._v("Watershed Intoduction")]),a("div",{attrs:{id:"lipsum"}},[a("Accordion",{attrs:{open:!0}},[a("h2",{attrs:{slot:"header"},slot:"header"},[e._v("map legend")]),a("div",{staticClass:"flex"},[a("div",[a("img",{attrs:{src:"icons/nukes.gif"}}),e._v("\n          Nukes\n        ")]),a("div",[a("img",{attrs:{src:"icons/natgas.png"}}),e._v("\n          Nat Gas\n        ")]),a("div",[a("img",{attrs:{src:"icons/dam.png"}}),e._v("\n          Dam\n        ")])])]),a("p",[e._v("\n    A Link: "),a("a",{attrs:{href:"http://ecotopia.today/",target:"_blank",title:"ecotopia.today"}},[e._v("Link to ecotopia.today.")]),e._v(" Images: "),a("AppLightBox",{attrs:{images:e.images}},[e._v("Dam Light Box")]),e._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer a eros tellus. Sed euismod vel sem vitae ornare. Nullam aliquet quam lectus, sed placerat mi accumsan at. Nullam malesuada arcu eros, nec suscipit tortor molestie quis. Integer tristique nulla vel ex porttitor, et pellentesque augue tincidunt. Quisque placerat aliquet suscipit. Integer nec aliquam libero. Proin vel odio id orci elementum varius. Donec et libero eget quam eleifend tristique cursus ut ante. Quisque auctor, risus ac facilisis maximus, ante sem efficitur leo, sed elementum sapien nisi vel leo. Nullam euismod sapien at velit condimentum dignissim.\n    ")],1),a("p",[e._v("\n    Nullam vel dui sit amet sapien suscipit auctor in vitae dolor. Morbi laoreet bibendum enim eget pellentesque. Pellentesque vitae dignissim turpis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Praesent vel neque neque. Maecenas nec nunc id sapien vehicula luctus. In ut felis eu dolor egestas convallis at ut erat. Fusce et auctor lacus. Sed vehicula ipsum vitae laoreet laoreet. Nulla facilisi. Sed sed pharetra enim, ac aliquet nisi. Suspendisse id luctus orci. Praesent a purus pretium, faucibus erat in, sagittis massa. Maecenas massa nunc, congue vel orci sed, dignissim condimentum ante. Sed vel augue sodales, posuere ipsum quis, facilisis nisl.\n    ")]),a("p",[e._v("\n    Suspendisse consequat justo ligula. Nunc pharetra libero ac lacus ornare, id tempus leo maximus. Mauris a venenatis sapien, in eleifend odio. Maecenas porttitor metus mi, at sodales enim luctus vitae. Proin quis ultrices lorem. Quisque feugiat blandit magna, vitae porttitor turpis lacinia vulputate. In porttitor tincidunt tristique. Nulla ac lectus aliquam, rhoncus nisl et, dictum tortor. Curabitur elementum, velit sed viverra bibendum, dolor risus facilisis velit, sed consequat mi diam eget diam. Aenean pellentesque sem sed mauris suscipit, sit amet placerat nulla hendrerit. Praesent venenatis nisi eu augue ultricies semper. Phasellus accumsan finibus ligula et mattis. In ullamcorper, lorem at aliquam sodales, magna neque luctus quam, in auctor justo sapien sed risus. Sed augue quam, eleifend quis viverra ac, sodales vel ligula. Phasellus nisi est, suscipit in fringilla in, malesuada et enim.\n    ")]),a("p",[e._v("\n    Praesent vel tempus neque, in lacinia libero. Nunc eleifend risus risus, at aliquam enim finibus ut. Sed a dapibus eros, vel tempus enim. Phasellus et mi faucibus, placerat arcu vitae, finibus est. Donec a elementum leo, sed sollicitudin tortor. Vestibulum eleifend pulvinar arcu vel mollis. Quisque iaculis lacinia libero, mattis pulvinar dolor luctus at. Nunc eu orci in ligula auctor condimentum eu rutrum eros. Sed sed lorem feugiat, aliquet arcu semper, efficitur leo.\n    ")]),a("p",[e._v("\n    Praesent et elit non leo pellentesque sollicitudin. Aliquam lobortis diam in felis aliquam, sed porta libero egestas. Phasellus libero mi, consequat eget consequat non, suscipit sit amet sem. Nulla a efficitur enim. Morbi nunc mauris, scelerisque at volutpat consectetur, luctus vel enim. Suspendisse ac arcu et diam elementum condimentum. Duis tempus metus sed dolor auctor, non tincidunt ante vehicula. Fusce tristique turpis non commodo ullamcorper. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n    ")]),a("p",[e._v("\n    Nullam lacus purus, porttitor ut pellentesque eu, hendrerit in neque. Praesent eu suscipit orci. Etiam quis tincidunt nibh. Ut porttitor mi nulla, et tempor dolor varius quis. Phasellus viverra eget ante sit amet malesuada. Curabitur auctor sapien a dui volutpat congue. Duis tempus pharetra viverra. Aliquam malesuada, sapien id eleifend commodo, turpis magna consequat urna, in aliquet turpis ex eget nisi. Proin eu sodales tortor. Interdum et malesuada fames ac ante ipsum primis in faucibus. Donec diam lorem, rhoncus eget velit sit amet, consectetur luctus metus. Pellentesque rhoncus metus a sapien lacinia, sit amet tempus nisl placerat.\n    ")]),a("p",[e._v("\n    Duis tempor vestibulum dolor, non ullamcorper ipsum condimentum a. Maecenas in ex ligula. Aenean fringilla cursus tincidunt. Vivamus consectetur nunc justo, eu porttitor diam egestas ac. Pellentesque eu tincidunt est. Mauris a faucibus mauris. Proin augue neque, posuere posuere metus vel, scelerisque luctus mi. Vivamus vel lacinia nibh. Maecenas eu ipsum eget nisi aliquam eleifend a ut libero. Suspendisse blandit lacus nibh, ut malesuada nunc lobortis sit amet.\n    ")]),a("p",[e._v("\n    Proin mauris mauris, porttitor ac iaculis id, tristique vestibulum tortor. Sed placerat ac eros vestibulum pretium. Ut quis pharetra quam. Phasellus posuere, dolor ac convallis laoreet, mauris dui lobortis nisl, vel dictum est magna sit amet arcu. Ut ac egestas dui. Integer pulvinar nisi a nulla imperdiet rutrum id et est. Aliquam eget ultricies nisi. Nulla condimentum sollicitudin elit, a vehicula turpis consequat vel. Duis pharetra scelerisque dapibus. Maecenas bibendum volutpat arcu nec malesuada. Integer convallis auctor velit a facilisis. Cras sed molestie elit. Proin dui nibh, scelerisque at dui eget, feugiat consectetur risus. Etiam vel risus a elit tincidunt pulvinar. Maecenas et facilisis eros.\n    ")]),a("p",[e._v("\n    Donec varius elit lobortis ullamcorper tincidunt. Vestibulum lectus dolor, mattis vitae viverra at, auctor at lacus. Praesent maximus libero eget facilisis aliquam. Proin ac augue bibendum dolor ornare sagittis. Morbi ac lorem nunc. Donec malesuada id mi nec blandit. Aenean maximus molestie libero, non porta metus bibendum a. Aliquam rhoncus gravida aliquam. Mauris vitae dolor at nisi iaculis condimentum. Mauris non dolor nulla. Nunc euismod semper nisi. Maecenas vitae erat at lectus vehicula aliquet quis eget dolor. Nam molestie est in turpis efficitur tempus.\n    ")]),a("p",[e._v("\n    Morbi vitae ultricies risus. Morbi dapibus nibh eget ultricies venenatis. Nulla libero velit, porttitor id turpis non, luctus fringilla risus. Integer a nulla ut neque lacinia pellentesque. Aenean laoreet massa vel augue sollicitudin, non tristique sem porttitor. Vestibulum vitae nisi nunc. Sed in est luctus, posuere nisi aliquam, accumsan massa. Integer in ullamcorper felis. Nunc consequat diam eget sodales consequat. Nulla facilisi. Nunc aliquam quam ac nisl faucibus, in imperdiet magna volutpat. Vestibulum tristique enim magna. Aliquam erat volutpat. Maecenas consectetur augue a quam pharetra, in iaculis diam egestas. Proin non interdum massa.\n    ")]),a("Accordion",[a("h2",{attrs:{slot:"header"},slot:"header"},[e._v("sources")]),e._v("\n      Morbi vitae ultricies risus. Morbi dapibus nibh eget ultricies venenatis. Nulla libero velit, porttitor id turpis non, luctus fringilla risus. Integer a nulla ut neque lacinia pellentesque.\n    ")])],1)])},x=[],k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"link",on:{click:e.open}},[e._t("default")],2),e.isOpen?a("LightBox",{attrs:{images:e.images,showCaption:!0},on:{onOpened:e.onOpenChange}}):e._e()],1)},_=[],L=a("1c09"),q=a.n(L),O={name:"AppLightBox",components:{LightBox:q.a},props:{images:Array},data:function(){return{isOpen:!1}},methods:{open:function(){this.isOpen=!0},onOpenChange:function(e){this.isOpen=e}}},C=O,M=(a("2352"),Object(h["a"])(C,k,_,!1,null,"5cc4adc2",null)),R=M.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("article",{ref:"accordion",class:e.accordionClasses},[a("div",{staticClass:"heading",on:{click:e.toggleAccordion}},[e.isOpen?a("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_up")]):a("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_down")]),a("span",{staticClass:"headingText"},[e._t("header")],2)]),a("div",{staticClass:"body"},[a("div",{staticClass:"content"},[e._t("default")],2)])])},S=[],N={name:"Accordion",props:{open:Boolean},data:function(){return{isOpen:this.open}},computed:{accordionClasses:function(){return{"is-closed":!this.isOpen}}},methods:{toggleAccordion:function(){var e=this;this.isOpen=!this.isOpen,this.isOpen&&this.$refs.accordion.offsetTop>window.innerHeight&&setTimeout(function(){e.$refs.accordion.scrollIntoView()},500)}}},A=N,H=(a("5547"),Object(h["a"])(A,B,S,!1,null,"07ed6345",null)),I=H.exports,T={name:"WatershedIntroduction",components:{Accordion:I,AppLightBox:R},data:function(){return{images:[{thumb:"images/Dams/ArrowLakesDam.jpg",src:"images/Dams/ArrowLakesDam.jpg",caption:"ArrowLakesDam"},{thumb:"images/Dams/BonnevilleDam.jpg",src:"images/Dams/BonnevilleDam.jpg",caption:"BonnevilleDam"},{thumb:"images/Dams/BoundaryDam.jpg",src:"images/Dams/BoundaryDam.jpg",caption:"BoundaryDam"},{thumb:"images/Dams/BridgeRiverDam.jpg",src:"images/Dams/BridgeRiverDam.jpg",caption:"BridgeRiverDam"}]}}},G=T,$=(a("5190"),Object(h["a"])(G,j,x,!1,null,"762028fe",null)),z=$.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"map",attrs:{id:"map"}},[a("div",{ref:"popup",staticClass:"ol-popup"},[a("div",{ref:"popupCloser",staticClass:"ol-popup-closer",on:{click:e.closePopup}}),a("div",{ref:"popupContent",staticClass:"ol-popup-content"})])])},D=[],V=a("981b"),E=(a("5bc0"),a("0710")),J=a("5eee"),F=a("a2c7"),Q=a("3e6b"),U=a("480c"),K=a("9c78"),X=a("5831"),Z=a("2ef1"),Y=a("a2e1"),ee=a("6c77"),te=a("6cbf"),ae=a("8682"),ne=a("83a6"),ie=a("256f"),oe=a("8f3a"),se=a("9d47"),re={name:"Map",data:function(){return{olmap:void 0,centerPoints:{introductionwater:{center:[-118.8,46.1],resolution:700},introductionbio:{center:[-121.2,51],resolution:4500},terminals:{center:[-122.68,45.84],resolution:220},hanford1:{center:[-119.46,46.637574],resolution:70},legacy:{center:[-119.5199,46.555],resolution:6},floods:{center:[-119.46,46.607574],resolution:50},plumes:{center:[-119.46,46.607574],resolution:50},stopit:{center:[-122.68,45.84],resolution:220},dams:{center:[-117.9,46.9],resolution:700}}}},computed:Object(u["a"])({},Object(l["b"])(["asideHidden"]),{popup:function(){return new E["a"]({element:this.$refs.popup,autoPan:!0,autoPanAnimation:{duration:250}})}}),watch:{$route:function(e,t){this.closePopup(),this.initMap()},asideHidden:function(){this.olmap.updateSize()}},mounted:function(){this.initMap()},methods:{initMap:function(){switch(this.$route.name){case"watershedIntroduction":this.initWatershedIntro();break;case"watershedTerminals":this.initWatershedTerminals();break;case"watershedDams":this.initWatershedDams();break;case"watershedHanford":this.initWatershedHanford();break;case"watershedHanfordLegacy":this.initWatershedHanfordLegacy();break;case"watershedHanfordPlumes":this.initWatershedHanfordPlumes();break;case"watershedHanfordFloods":this.initWatershedHanfordFloods();break;default:this.initWatershedIntro()}},makeGeoJSONPointVectorLayer:function(e,t,a,n){return new Q["a"]({source:new X["a"]({url:e,format:new Y["a"]}),minResolution:a,maxResolution:n,style:new ee["b"]({image:new te["a"]({src:t})})})},makeGeoJSONLineVectorLayer:function(e,t,a,n,i){return new Q["a"]({source:new X["a"]({format:new Y["a"],url:e}),minResolution:t,maxResolution:a,style:new ee["b"]({stroke:new ae["a"]({color:n,width:i})}),strokeColor:n})},makeGeoJSONFillVectorLayer:function(e,t,a,n,i,o){return new Q["a"]({source:new X["a"]({format:new Y["a"],url:e}),minResolution:t,maxResolution:a,style:new ee["b"]({stroke:new ae["a"]({color:n,width:i}),fill:new ne["a"]({color:o})}),fill:o,fillColor:o})},watershedBaseLayers:function(){return[new U["a"]({source:new Z["a"]({url:"https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}"}),opacity:.9,minResolution:2,maxResolution:16e3}),new U["a"]({preload:1/0,source:new Z["a"]({url:"http://ecotopia.today/cascadia/Tiles/Columbia/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:16e3}),new U["a"]({source:new Z["a"]({url:"https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}"}),opacity:.9,minResolution:1,maxResolution:8})]},initBaseWatershedMap:function(){var e=this;this.olmap||(this.olmap=new J["a"]({target:"map",layers:this.watershedBaseLayers(),overlays:[this.popup],controls:Object(oe["a"])({attributionOptions:{collapsible:!0}}).extend([new se["a"]({units:"us",minWidth:150})])}),this.olmap.on("singleclick",function(t){var a=e.olmap.forEachFeatureAtPixel(t.pixel,function(e){return e});if(a){var i=a.getProperties();if(console.log("has feature! props:",i),i){var o=n["a"].extend(V["a"]);new o({propsData:{id:"NoMethanol",sourceType:"profile"}}).$mount(e.$refs.popupContent),e.popup.setPosition(t.coordinate)}}}),window.addEventListener("keydown",function(t){27===t.keyCode&&e.closePopup()}),this.olmap.on("pointermove",function(t){var a=e.olmap.getEventPixel(t.originalEvent),n=e.olmap.hasFeatureAtPixel(a);e.$refs.map.style.cursor=n?"pointer":""}))},initWatershedIntro:function(){this.initBaseWatershedMap(),this.olmap.setLayerGroup(new K["a"]({layers:this.watershedBaseLayers()})),this.olmap.setView(new F["a"]({center:Object(ie["c"])(this.centerPoints.introductionwater.center),resolution:this.centerPoints.introductionwater.resolution,zoom:0}))},initWatershedTerminals:function(){this.initBaseWatershedMap(),this.olmap.setLayerGroup(new K["a"]({layers:this.watershedBaseLayers().concat([this.makeGeoJSONPointVectorLayer("geojson/stopped.geojson","icons/stop.png",2,32e3),this.makeGeoJSONPointVectorLayer("geojson/planned.geojson","icons/stopit.png",2,32e3)])})),this.olmap.setView(new F["a"]({center:Object(ie["c"])(this.centerPoints.terminals.center),resolution:this.centerPoints.terminals.resolution,zoom:0}))},initWatershedDams:function(){this.initBaseWatershedMap(),this.olmap.setLayerGroup(new K["a"]({layers:this.watershedBaseLayers().concat([this.makeGeoJSONPointVectorLayer("geojson/Rapids.geojson","icons/waterfall.png",2,32e3),this.makeGeoJSONPointVectorLayer("geojson/MajorHydroCRB.geojson","icons/damOther.png",2,32e3),this.makeGeoJSONPointVectorLayer("geojson/Bureau.geojson","icons/damBR.png",2,32e3),this.makeGeoJSONPointVectorLayer("geojson/ArmyCorps.geojson","icons/damAC.png",2,32e3)])})),this.olmap.setView(new F["a"]({center:Object(ie["c"])(this.centerPoints.dams.center),resolution:this.centerPoints.dams.resolution,zoom:0}))},initWatershedHanford:function(){this.initBaseWatershedMap(),this.olmap.setLayerGroup(new K["a"]({layers:this.watershedBaseLayers().concat([new U["a"]({preload:1/0,source:new Z["a"]({url:"http://ecotopia.today/cascadia/Tiles/Hanford/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:160})])})),this.olmap.setView(new F["a"]({center:Object(ie["c"])(this.centerPoints.hanford1.center),resolution:this.centerPoints.hanford1.resolution,zoom:0}))},initWatershedHanfordLegacy:function(){this.initBaseWatershedMap(),this.olmap.setLayerGroup(new K["a"]({layers:this.watershedBaseLayers().concat([new U["a"]({preload:1/0,source:new Z["a"]({url:"http://ecotopia.today/cascadia/Tiles/Hanford/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:80}),new U["a"]({preload:1/0,source:new Z["a"]({url:"http://ecotopia.today/cascadia/Tiles/Leaks/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:80}),this.makeGeoJSONFillVectorLayer("geojsons/HanfordLabels.geojson",1,80,"rgba(60, 20, 20, 0.0)",2,"rgba(255, 255, 0, 0.0)")])})),this.olmap.setView(new F["a"]({center:Object(ie["c"])(this.centerPoints.legacy.center),resolution:this.centerPoints.legacy.resolution,zoom:0}))},initWatershedHanfordPlumes:function(){this.initBaseWatershedMap(),this.olmap.setLayerGroup(new K["a"]({layers:this.watershedBaseLayers().concat([new U["a"]({preload:1/0,source:new Z["a"]({url:"http://ecotopia.today/cascadia/Tiles/Hanford/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:80}),new U["a"]({preload:1/0,source:new Z["a"]({url:"http://ecotopia.today/cascadia/Tiles/Leaks/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:80}),new U["a"]({preload:1/0,source:new Z["a"]({url:"http://ecotopia.today/cascadia/Tiles/HanfordPlumes/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:80})])})),this.olmap.setView(new F["a"]({center:Object(ie["c"])(this.centerPoints.plumes.center),resolution:this.centerPoints.plumes.resolution,zoom:0}))},initWatershedHanfordFloods:function(){this.initBaseWatershedMap(),this.olmap.setLayerGroup(new K["a"]({layers:this.watershedBaseLayers().concat([new U["a"]({preload:1/0,source:new Z["a"]({url:"http://ecotopia.today/cascadia/Tiles/Floods/{z}/{x}/{y}.png"}),opacity:.7,minResolution:2,maxResolution:16e3})])})),this.olmap.setView(new F["a"]({center:Object(ie["c"])(this.centerPoints.floods.center),resolution:this.centerPoints.floods.resolution,zoom:0}))},closePopup:function(){return this.popup.setPosition(void 0),this.$refs.popupCloser.blur(),!1}}},ue=re,le=Object(h["a"])(ue,W,D,!1,null,null,null),ce=le.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"map",attrs:{id:"map"}},[a("div",{ref:"popup",staticClass:"ol-popup"},[a("div",{ref:"popupCloser",staticClass:"ol-popup-closer",on:{click:e.closePopup}}),a("div",{ref:"popupContent",staticClass:"ol-popup-content"})])])},me=[],pe=a("8afe"),he=a("a226"),ge={name:"MapMegaregion",data:function(){return{olmap:void 0,centerPoints:{introductionmetro:{center:[-122.112002,45.564222],resolution:180},energy:{center:[-119.023311,46.864322],resolution:798},crops:{center:[-117.6,46.5],resolution:900},coulee:{center:[-118.989,47.948],resolution:6},basin:{center:[-118.989,46.9],resolution:300}}}},computed:Object(u["a"])({},Object(l["b"])(["asideHidden"]),{popup:function(){return new E["a"]({element:this.$refs.popup,autoPan:!0,autoPanAnimation:{duration:250}})},baseLayers:function(){var e=this;return[new U["a"]({preload:1/0,source:new Z["a"]({url:"https://gibs.earthdata.nasa.gov/wmts/epsg3857/best/VIIRS_CityLights_2012/default/GoogleMapsCompatible_Level8/{z}/{y}/{x}.jpg"}),minResolution:800}),new U["a"]({preload:1/0,source:new Z["a"]({url:"http://{a-d}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:40,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new U["a"]({preload:1/0,source:new Z["a"]({url:"http://{a-d}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png"}),opacity:1,minResolution:20,maxResolution:799,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new U["a"]({source:new Z["a"]({url:"https://gibs.earthdata.nasa.gov/wmts/epsg3857/best/Coastlines/default/GoogleMapsCompatible_Level9/{z}/{y}/{x}.png"}),minResolution:200}),new U["a"]({preload:1/0,source:new Z["a"]({url:"http://ecotopia.today/cascadia/Tiles/PDX-new/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:1600}),new U["a"]({title:"OpenRailwayMap",visible:!0,minResolution:40,opacity:1,source:new Z["a"]({url:"http://{a-c}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png",crossOrigin:null,tilePixelRatio:2,maxZoom:19,opaque:!1,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0})}),new U["a"]({minResolution:20,opacity:1,source:new Z["a"]({tileUrlFunction:function(t,a,n){var i=t[0],o=t[1],s=-t[2]-1;return"http://t0.tiles.virtualearth.net/tiles/t"+e.computeQuadKey(o,s,i)+".jpg"}}),loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new Q["a"]({source:new X["a"]({format:new Y["a"],url:"geojson/USmegaregions2.geojson"}),minResolution:1600,maxResolution:8e3,style:new ee["b"]({stroke:new ae["a"]({width:.5,color:"rgba(255, 255, 255, 0.8)"}),fill:new ne["a"]({color:"rgba(255, 255, 255, 0.3)"})})}),new U["a"]({source:new he["a"]({key:"Asxv26hh6HvBjw5idX-d8QS5vaJH1krMPBfZKjNmLjaQyr0Sc-BrHBoatyjwzc_k",imagerySet:"Aerial"}),minResolution:2,maxResolution:10})]},energyLayers:function(){return Object(pe["a"])(this.baseLayers).concat([this.makeGeoJSONPointVectorLayer("geojson/CascadiaHydro2.geojson","icons/dam.png","Hydro power",2,2e3),this.makeGeoJSONPointVectorLayer("geojson/CascadiaNuclear.geojson","icons/nukes.gif","Nuclear power",2,2e3),this.makeGeoJSONPointVectorLayer("geojson/CascadiaWind.geojson","icons/wind.png","Wind Power",2,2e3),this.makeGeoJSONPointVectorLayer("geojson/CascadiaNatGas.geojson","icons/natgas.png","Natural Gas",2,2e3),this.makeGeoJSONPointVectorLayer("geojson/CascadiaCoal.geojson","icons/coal.png","Coal Power",2,2e3)])},cropsLayers:function(){return Object(pe["a"])(this.baseLayers).concat([new U["a"]({preload:1/0,source:new Z["a"]({url:"http://{a-d}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:16e3,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new U["a"]({preload:1/0,source:new Z["a"]({url:"http://ecotopia.today/cascadia/Tiles/Crops/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:16e3})])},grandCouleeLayers:function(){return Object(pe["a"])(this.baseLayers).concat([new U["a"]({preload:1/0,source:new Z["a"]({url:"http://{a-d}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:16e3}),new U["a"]({preload:1/0,source:new Z["a"]({url:"http://ecotopia.today/cascadia/Tiles/Crops/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:16e3}),new U["a"]({source:new he["a"]({key:"Asxv26hh6HvBjw5idX-d8QS5vaJH1krMPBfZKjNmLjaQyr0Sc-BrHBoatyjwzc_k",imagerySet:"Aerial"}),minResolution:2,maxResolution:10})])},basinProjectLayers:function(){return Object(pe["a"])(this.baseLayers).concat([new U["a"]({preload:1/0,source:new Z["a"]({url:"http://{a-d}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:16e3}),new U["a"]({preload:1/0,source:new Z["a"]({url:"http://ecotopia.today/cascadia/Tiles/Crops/{z}/{x}/{y}.png"}),opacity:.6,minResolution:2,maxResolution:16e3}),new U["a"]({preload:1/0,source:new Z["a"]({url:"http://ecotopia.today/cascadia/Tiles/CBP/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:16e3}),this.makeGeoJSONFillVectorLayer("geojson/CBP-Crops.geojson",2,80,"rgba(189, 7, 97, 0)",0,"rgba(189, 7, 97, 0)"),new U["a"]({source:new he["a"]({key:"Asxv26hh6HvBjw5idX-d8QS5vaJH1krMPBfZKjNmLjaQyr0Sc-BrHBoatyjwzc_k",imagerySet:"Aerial"}),minResolution:2,maxResolution:10})])}}),watch:{$route:function(e,t){this.closePopup(),this.initMap()},asideHidden:function(){this.olmap.updateSize()}},mounted:function(){this.initMap()},methods:{closePopup:function(){return this.popup.setPosition(void 0),this.$refs.popupCloser.blur(),!1},initMap:function(){switch(this.$route.name){case"megaregionIntroduction":this.initMegaregionIntroduction();break;case"megaregionEnergy":this.initMegaregionEnergy();break;case"megaregionCrops":this.initMegaregionCrops();break;case"megaregionGrandCoulee":this.initMegaregionGrandCoulee();break;case"megaregionBasinProject":this.initMegaregionBasinProject();break;default:}},initBaseMap:function(){var e=this;this.olmap||(this.olmap=new J["a"]({target:"map",overlays:[this.popup],controls:Object(oe["a"])({attributionOptions:{collapsible:!0}}).extend([new se["a"]({units:"us",minWidth:150})])}),this.olmap.on("singleclick",function(t){var a=e.olmap.forEachFeatureAtPixel(t.pixel,function(e){return e});if(a){var i=a.getProperties();if(console.log("has feature! props:",i),i){var o=n["a"].extend(V["a"]);new o({propsData:{id:"NoMethanol",sourceType:"profile"}}).$mount(e.$refs.popupContent),e.popup.setPosition(t.coordinate)}}}),window.addEventListener("keydown",function(t){27===t.keyCode&&e.closePopup()}),this.olmap.on("pointermove",function(t){var a=e.olmap.getEventPixel(t.originalEvent),n=e.olmap.hasFeatureAtPixel(a);e.$refs.map.style.cursor=n?"pointer":""}))},initMegaregionIntroduction:function(){this.initBaseMap(),this.olmap.setLayerGroup(new K["a"]({layers:this.baseLayers})),this.olmap.setView(new F["a"]({center:Object(ie["c"])(this.centerPoints.introductionmetro.center),resolution:this.centerPoints.introductionmetro.resolution,zoom:0}))},initMegaregionEnergy:function(){this.initBaseMap(),this.olmap.setLayerGroup(new K["a"]({layers:this.energyLayers})),this.olmap.setView(new F["a"]({center:Object(ie["c"])(this.centerPoints.energy.center),resolution:this.centerPoints.energy.resolution,zoom:0}))},initMegaregionCrops:function(){this.initBaseMap(),this.olmap.setLayerGroup(new K["a"]({layers:this.cropsLayers})),this.olmap.setView(new F["a"]({center:Object(ie["c"])(this.centerPoints.crops.center),resolution:this.centerPoints.crops.resolution,zoom:0}))},initMegaregionGrandCoulee:function(){this.initBaseMap(),this.olmap.setLayerGroup(new K["a"]({layers:this.grandCouleeLayers})),this.olmap.setView(new F["a"]({center:Object(ie["c"])(this.centerPoints.coulee.center),resolution:this.centerPoints.coulee.resolution,zoom:0}))},initMegaregionBasinProject:function(){this.initBaseMap(),this.olmap.setLayerGroup(new K["a"]({layers:this.basinProjectLayers})),this.olmap.setView(new F["a"]({center:Object(ie["c"])(this.centerPoints.basin.center),resolution:this.centerPoints.basin.resolution,zoom:0}))},computeQuadKey:function(e,t,a){for(var n=[],i=a;i>0;i--){var o=0,s=1<<i-1;0!==(e&s)&&o++,0!==(t&s)&&(o+=2),n.push(o)}return n.join("")},makeGeoJSONPointVectorLayer:function(e,t,a,n,i){return new Q["a"]({source:new X["a"]({url:e,format:new Y["a"]}),minResolution:n,maxResolution:i,style:new ee["b"]({image:new te["a"]({src:t})}),label:a})},makeGeoJSONFillVectorLayer:function(e,t,a,n,i,o){return new Q["a"]({source:new X["a"]({format:new Y["a"],url:e}),minResolution:t,maxResolution:a,style:new ee["b"]({stroke:new ae["a"]({color:n,width:i}),fill:new ne["a"]({color:o})}),fill:o,fillColor:o})}}},fe=ge,ve=Object(h["a"])(fe,de,me,!1,null,null,null),be=ve.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"map"}})},ye=[],Pe=a("d0e9"),je={name:"MapBioregion",data:function(){return{olmap:void 0}},mounted:function(){console.log("$route.name:",this.$route.name," $route.params.subitem:",this.$route.params.subitem),this.olmap=new J["a"]({target:"map",layers:[new U["a"]({source:new Pe["a"]})],view:new F["a"]({center:[0,0],zoom:0})})}},xe=je,ke=Object(h["a"])(xe,we,ye,!1,null,null,null),_e=ke.exports;n["a"].use(P["a"]);var Le=new P["a"]({routes:[{path:"/",redirect:"/watershed/introduction"},{path:"/watershed/introduction",name:"watershedIntroduction",components:{default:z,map:ce}},{path:"/watershed/terminals",name:"watershedTerminals",components:{default:function(){return a.e("869f9").then(a.bind(null,"869f9"))},map:ce}},{path:"/watershed/dams",name:"watershedDams",components:{default:function(){return a.e("e2ad").then(a.bind(null,"e2ad"))},map:ce}},{path:"/watershed/hanford",name:"watershedHanford",components:{default:function(){return a.e("969e").then(a.bind(null,"969e"))},map:ce}},{path:"/watershed/hanford/legacy",name:"watershedHanfordLegacy",components:{default:function(){return a.e("fc1f").then(a.bind(null,"fc1f"))},map:ce}},{path:"/watershed/hanford/plumes",name:"watershedHanfordPlumes",components:{default:function(){return a.e("6a51").then(a.bind(null,"6a51"))},map:ce}},{path:"/watershed/hanford/floods",name:"watershedHanfordFloods",components:{default:function(){return a.e("8628").then(a.bind(null,"8628"))},map:ce}},{path:"/megaregion/introduction",name:"megaregionIntroduction",components:{default:function(){return a.e("5e0b").then(a.bind(null,"5e0b"))},map:be}},{path:"/megaregion/energy",name:"megaregionEnergy",components:{default:function(){return a.e("c669").then(a.bind(null,"c669"))},map:be}},{path:"/megaregion/crops",name:"megaregionCrops",components:{default:function(){return a.e("93bb").then(a.bind(null,"93bb"))},map:be}},{path:"/megaregion/grandcoulee",name:"megaregionGrandCoulee",components:{default:function(){return a.e("753a").then(a.bind(null,"753a"))},map:be}},{path:"/megaregion/basinproject",name:"megaregionBasinProject",components:{default:function(){return a.e("81d0").then(a.bind(null,"81d0"))},map:be}},{path:"/bioregion/introduction",name:"bioregion",components:{default:function(){return a.e("chunk-4d5f").then(a.bind(null,"94ef"))},map:_e}}]});n["a"].use(l["a"]);var qe={asideHidden:!1},Oe={toggle:function(e){console.log("store toggle!!"),e.asideHidden=!e.asideHidden}},Ce={toggle:function(e){e.commit("toggle")}},Me={asideHidden:function(e){return e.asideHidden}},Re=new l["a"].Store({state:qe,getters:Me,actions:Ce,mutations:Oe});n["a"].use(o.a),n["a"].config.productionTip=!1,new n["a"]({router:Le,store:Re,render:function(e){return e(y)}}).$mount("#app")},a347:function(e,t,a){},b059:function(e,t,a){},b330:function(e,t,a){},c1a1:function(e,t,a){},f928:function(e,t,a){}});
//# sourceMappingURL=app.b2782eec.js.map